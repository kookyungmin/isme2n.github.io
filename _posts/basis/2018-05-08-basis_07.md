---

layout: post

title:  "[IoT_응용SW기초] 7.데이터통신 기초(2)"

date:   2018-05-09 09:00:10 -0500

comments: true

categories: basis

---

## 데이터의 부호화와 다중화 전송

<br>
<br>

>```
><부호>
>
>
>사람들이 의사 전달 수단으로 음성이나 글을 사용하듯 컴퓨터 장치도 데이터를 전달하기 위해
>
>
>기계장치가 이해하기 쉽고 처리하기 쉬운 특수 언어를 사용하게 된다.
>
>
>이런 특수 언어를 코드, 즉 부호라 부른다.
>
>
><부호의 표현 방식>
>
>
>일반적으로 부호는 아날로그 데이터와 디지털 데이터 방식으로 표현된다.
>
>
>인간이 아날로그 데이터를 인식하는 경우, 아날로그 자체로 사용하는 것보다 디지털로 변경해서
>사용하는 것이 쉬울 때가 있다.
>
>
>물론 기계는 데이터를 디지털 데이터로 처리한다.
>
>
>데이터의 부호화는 유한한 문자 집합 요소인 각 문자를 임의의 표현 방식을 사용해 구분한다.
>
>
>이러한 부호는 전기적으로 전송할 수 없고, 물리적인 양으로 표현해야하는데 기계를 통한 부호의 전송방법은
>
>
>2진법을 사용한다.
>```
>
><br>
><br>
><br>
>
>```
><2진 부호>
>
>
>숫자나 영문자, 한글 등 디지털 정보는 2진법을 사용해서 부호화 할 수 있다.
>
>
>2진 부호는 인간이 해석하기 쉽도록 0과 1의 연속된 비트 열로 표시하지만,
>
>
>기계가 이해하기 좋은 형태는 전기적 신호이므로 이들을 전기적 신호로 바꿔 전달하게 된다.
>
>
><전송 부호의 종류>
>
>
>전송 부호의 종류는 RZ,NRZ,NRZI,바이폴라,AMI,맨체스터,DM 등이 있다.
>
>
>이더넷은 멘체스터 부호를 전송하고, 토큰링은 DM 부호를 사용한다.
>
>
>비동기 전송에는 주로 NRZ 방식이 사용된다.
>
>
>디지털 정보를 부호화한 결과로는 ASCII,EBCDIC 등과 같은 2진 부호, 
>3액세스 부호, 그레이 부호 등이 있다.
>```
>
>![image](/image/IoT_image/IoT_img_16.png)
>
><br>
><br>
><br>
>
>```
><이더넷>
>
>
>이더넷(영어: Ethernet)은 컴퓨터 네트워크 기술의 하나로, 
>
>전세계의 사무실이나 가정에서 일반적으로 사용되는 LAN에서 가장 많이 활용되는 기술 규격이다.
>```
>
><br>
><br>
><br>
>
>```
><다중화>
>
>
>다중화(Multiplexing)란 여러 개의 저속 터미널을 하나의 고속 회선을 사용해 전송하는 것을 말한다.
>
>
>FDM(Frequency Division Multiplexing)과 TDM(Time Division Multiplexing)이 있다.
>
>
><FDM>
>
>
>FDM은 각각의 터미널에서 송, 수신하는 데이터를 서로 다른 주파수로 변조,
>
>
>하나의 고속 회선을 통해 동시에 전송하는 방식이다.
>
>
>각각의 분할된 주파수는 채널로 분류, 서로의 간섭을 막기 위해 보호 대역(Guard Band)란 간격을 유지한다.
>
>
><TDM>
>
>
>TDM은 하나의 고속 회선 전체를 일정 시간 동안씩 간격을 두고 반복해서 각각의 터미널에
>
>
>할당하는 방법으로 동기식 TDM과 통계적 TDM의 두 가지 방식이 있다.
>
>
><동기식 TDM>
>
>
>전송하려는 터미널에서 송, 수신하는 각각의 신호를 라운드 로빈 방식에 의해 순서대로
>
>
>하나의 고속 회선에 할당한다. 
>
>
>->하드웨어적인 추가 부담은 적지만 슬롯의 낭비가 발생할 수 있다.
>
>
><통계적 TDM>
>
>
>전송할 데이터가 있는 터미널에만 시간을 할애하는 전송 방식으로,
>
>
>슬롯의 낭비는 줄일 수 있으나, 별도의 헤더를 추가해야 하므로 하드웨어 추가가 필요하다.
>```
>
><br>
><br>
><br>
>
>```
><변, 복조 기술>
>
>
>보내고 싶은 신호가 통신 매체의 특성에 맞지 않은 경우에는 그 신호를 통신로에 적합한 형식으로
>
>
>변환하지 않으면 안 된다.
>
>
>이와 같은 신호 변환을 변조(Modulation)이라고 한다.
>
>
>만약, 2진 정보 신호를 통신 매체에 적합한 형태로 바꾸지 않고 데이터를 전송할 경우,
>
>
>전송신호의 감쇠 때문에 데이터를 멀리 보낼 수 없다.
>
>
>->이런 이유로 MODEM이나 DSU 등의 신호 변환 장치를 사용하게 된다.
>
>
>변조된 신호를 원래 신호로 환원하는 과정을 복조(Demodulation)라고 한다.
>```
>
><br>
><br>
><br>
>
>```
><전화선을 통한 디지털 데이터의 전송>
>
>
>다양한 매체 중 데이터 전송에 이용되고 있는 전화선은 가장 경제적으로 상대방과 
>
>
>통신할 수 있는 수단으로 이용되고 있다.
>
>
>전화선은 음성과 같은 아날로그 신호 전송에 적합하지만, 베이스밴드 대역 전송 방식으로 이용하기에는
>어려움이 따른다.
>
>
>따라서 디지털 데이터 신호를 전화선에 맞는 교류 신호로 변환해서 전송해야한다.
>
>
>수신 측에서는 변조된 교류신호에서 본래의 디지털 신호를 얻을 수 있는 복조 과정을 거치게된다.
>
>
>전화선을 이용해 아날로그 신호 또는 베이스밴드 대역 주파수 스펙트럼을 별도의 음성 대역으로 
>
>
>전환하는 변조에는 반송파(Carrier)가 이용된다.
>
>반송파란 정보의 전달을 위해 입력 신호를 변조한 전자기파(일반적으로 사인파)를 의미한다
>
>
>반송파는 다음과 같이 x(t)로 나타낸다.
>
>
>V(t)=A(t)xSin(wt+e)
>
>
>위에서 A는 임의의 시간 t에서 진폭을 나타내며, w는 반송파의 각 주파수,
>
>e는 반송파의 위상을 나타낸다.
>
>
>변조는 반송파의 진폭, 주파수, 펄스를 변화시킴으로써 데이터 전달이 잘 이뤄지도록 해준다.
>```
>
><br>
><br>
><br>
>
>```
><PSK>
>
>MODEM에서 주로 많이 사용되는 변조는 PSK(Phase Shift Keying)이다.
>
>
>PSK는 디지털 신호에 대응해서 반송파의 위상을 각각 다르게 하여 전송하는 변조 방식인데,
>
>
>변조 단위당 2진 비트 수를 몇 개 보낸 수 있느냐에 따라 2차 PSK, 4차 PSK, 8차 PSK가 있고,
>
>
>펄스와 진폭을 동시에 변조시키는 QAM도 사용된다.
>
>
>위와 같은 변조들은 전화급 아날로그 회선(디지털->아날로그)에 적용되며, 
>
>
>고속 디지털 회선에 적용되는신호 변환은 DSU나 CSU에 의해 이루어져,
>
>
>바이폴라나 AMI,B8ZS 신호 등으로 인코딩 되어 전송된다.
>```
>
><br>
><br>
><br>
>디지털 변조
>
><br>
><br>
><br>
>
>![image](/image/IoT_image/IoT_img_17.png)
>
><br>
><br>
><br>
>아날로그 변조
>
><br>
><br>
><br>
>
>![image](/image/IoT_image/IoT_img_18.png)

<br>
<br>

## 흐름제어와 오류제어

<br>
<br>

>```
><흐름제어>
>
>송, 수신 측의 처리 속도 차이나 수신 측 버퍼 크기의 제한 등에 의해 발생하는
>
>
>데이터의 손실을 방지하기 위해서는 데이터의 흐름을 제어하기 위한 기술이 필요하다.
>
>
><정지-대기 ARQ>
>
>
>가장 간단한 흐름 제어 방식으로 오류 제어 방식이기도 하다.
>
>
>이 방법은 송, 수신 측에 데이터의 오버플로를 방지하는 흐름 제어 역할도 같이 수행한다.
>
>
><슬라이딩 윈도우>
>
>
>가장 일반적인 흐름 제어 방식인 슬라이딩 윈도우 방식은 송, 수신 측에 일정 크기에 버퍼를 두고
>
>
>송, 수신 블록 수와 ACK 신호에 따라 버퍼 크기를 조정해 가면서 버퍼 오버플로가 발생하지 않도록 조절한다.
>```
>
><br>
><br>
><br>
>
>```
><오류제어>
>
>
>데이터를 전송하는 도중 통신회선의 상태와 품질에 따라서 전송신호에 잡음과 같은 현상이 개입할 수 있다.
>
>
>따라서, 데이터 전송 중에 발생되는 오류를 송, 수신 측이 미리 정해진 약속에 의해 검증하거나
>
>
>정정하는 오류제어가 필수적이다.
>
>
><오류의 구분>
>
>
>오류는 시간 간격으로 일어나는 확률적 현상으로, 간헐적으로 발생하는 랜덤오류와
>
>
>연속적, 집단적으로 발생하는 버스트 오류로 구분된다.
>
>
><오류 검출 방법>
>
>
>오류를 검출하는 방법으로는 하나의 문자 패리티 검사, 수직 패리티 검사(VRC),
>
>
>수평 패리티 검사(LRC,BCC), 순환 부호 검사 등이 있다.
>
>
>오류를 검출한 뒤에는 수신된 데이터를 버리거나, 재전송 요청, 또는 자체 수정을 하게된다.
>
>
><오류 검출 부호>
>
>
>오류를 검출하기 위해서는 전송 측에서 오류를 판정할 부가 정보를 수신 측으로 전송해야 한다.
>
>
>이런 부호를 오류 검출 부호라고 한다.
>
>
>ex) BSC 전송 프레임의 BCC, HDLC 전송 프레임의 FCS
>
>
><오류 제어 방식>
>
>
>오류 제어 방식에는 정지-대기 ARQ, Go-Back-N ARQ, 선택적 재전송 ARQ가 있다.
>
>
><정지-대기 ARQ>
>
>송신 측은 데이터 프레임을 전송하고 자체 타이머를 작동시킨 후 대기한다.
>
>
>이 때 수신 측은 오류가 없는 데이터를 받으면 ACK 신호를, 오류가 검출되면 NAK 신호를 전송한다.
>
>
>송신 측이 수신 측으로부터 ACK 신호를 받으면 다음 데이터를 전송하고 NAK 신호를 받으면
>
>
>먼저 보낸 데이터를 재전송한다. 만약 송신측이 수신 측으로부터 아무런 응답을 받지 못하면
>
>
>자체 타이머에 설정된 시간이 초과된 후 보낸 데이터를 재전송한다.
>```
>
><br>
><br>
><br>
>
>```
><Go-Back-N ARQ>
>
>
>송신 측은 수신 측의 응답을 기다리지 않고 순차번호에 따라 데이터를 연속적으로 전송한다.
>
>
>수신 측은 오류가 없으면 ACK 신호를, 오류가 발생하면 해당하는 순차번호에 NAK 신호를 전송한다.
>
>
>송신 측은 NAK  신호를 받으면 그 순서 이후부터 재전송하며 타임 아웃 시에도 발생 순서 이후부터는
>
>
>데이터를 전부 재전송한다.
>```
>
>
><br>
><br>
><br>
>
>```
><선택적 재전송 ARQ>
>
>
>선택적 재전송 ARQ는 묵시적인 방법과 명시적인 방법 두 가지가 있다.
>
>
><묵시적 방법>
>
>
>송신 측은 수신 측의 응답을 기다리지 않고 순차번호에 의해 데이터를 연속적으로 전송하고,
>
>
>수신 측은 오류가 없으면 해당되는 번호를 갖는 ACK 신호를 보내고 오류가  검출되면
>
>
>그 번호의 프레임은 무시하고 나머지 데이터를 받아 버퍼에 저장한다.
>
>
>송신 측은 수신측으로부터 순차번호와 함께 ACK신호를 받아 순차번호를 확인하고, 
>
>
>순차적이지 않은 프레임을 에러로 간주하고, 그 프레임만을 재전송한다.
>
>
>수신 측은 재전송될 프레임이 도착할 때까지 모든 송신 측 데이터를 저장했다가
>
>
>재전송되면 순차번호에 맞추어 상위 계층에 전달하고 버퍼를 비운다.
>```
>
><br>
><br>
><br>
>
>```
><명시적 방법>
>
>
>송신 측이 수신 측의 응답을 기다리지 않고 순차번호에 의해 데이터를 연속적으로 전송하는 것까지는
>
>
>묵시적 방법과 동일하나, 수신 측은 오류가 없으면 해당되는 번호를 갖는 ACK를 보내고
>
>
>오류가 검출되면 그 번호의 프레임에 NAK 신호를 보낸 뒤, 그 이후 데이터에 대해 오류를 검사한 후
>
>
>정상이면 버퍼에 저장하고 ACK 신호는 보내지 않는다.
>
>
>송신 측은 이 때 NAK 신호를 받은 프레임을 재전송한다. 
>
>
>수신 측은 재전송 받은 프레임과 버퍼에 저장 중인 프레임을 순서대로 맞춘 후 
>
>
>상위 계층으로 전달하고 송신 측에 ACK를 보낸다.
>```






<br>
<br>
<br>
- - -
이전 장 [[IoT_응용SW기초] 6. 데이터통신 기초(1)](https://kookyungmin.github.io/basis/2018/05/09/basis_06.html)
<br>
다음 장 [[IoT_응용SW기초] 8. 데이터통신 기초(3)](https://kookyungmin.github.io/basis/2018/05/10/basis_08.html)
<br>
<br>
<br>
By 꾸리
